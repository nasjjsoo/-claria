<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Éclaria - Adresse de Livraison</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="site-header-new">
        <div class="container header-container-new">
            <div class="site-logo-new">
                <a href="index.html">Éclaria</a>
            </div>
            <nav class="main-navigation" id="desktop-nav">
                 <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="produit.html">Produit</a></li>
                    <li><a href="qui-sommes-nous.html">Notre Histoire</a></li>
                    <li><a href="faq.html">FAQ</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <div class="language-switcher" id="desktop-lang-switcher">
                    <a href="index.html" class="lang-link active-lang" lang="fr" hreflang="fr">FR</a>
                </div>
                <button class="cart-icon-new" aria-label="Panier"><svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0 0 20 4H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.9 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg></button>
                <button class="menu-toggle" aria-label="Ouvrir le menu" aria-expanded="false">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <div class="offcanvas-menu" id="offcanvasMenu">
        <button class="close-menu-btn" aria-label="Fermer le menu">&times;</button>
        <nav>
            <ul>
                <li><a href="index.html">Accueil</a></li>
                <li><a href="produit.html">Produit</a></li>
                <li><a href="qui-sommes-nous.html">Notre Histoire</a></li>
                <li><a href="faq.html">FAQ</a></li>
                <li><a href="livraison.html" class="active-lang">Livraison & Retours</a></li> 
                <li><a href="paiement.html">Paiement</a></li>
                <li><a href="politique-de-confidentialite.html">Politique de Confidentialité</a></li>
                <li><a href="conditions-utilisation.html">Conditions d'Utilisation</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <div class="language-switcher" style="margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--silver-medium);">
            <p style="font-weight:500; margin-bottom:10px; color:var(--text-dark); font-size:1em;">Langue :</p>
            <a href="index.html" class="lang-link active-lang" lang="fr" hreflang="fr" style="display:block; margin: 5px 0;">Français</a>
        </div>
    </div>
    <div class="overlay-screen" id="overlayScreen"></div>

    <main class="checkout-page">
        <div class="container">
            <div class="checkout-header">
                <h1>Finaliser Votre Commande</h1>
                <ul class="checkout-steps">
                    <li class="checkout-step active">Livraison</li>
                    <li class="checkout-step">Paiement</li>
                    <li class="checkout-step">Confirmation</li>
                </ul>
            </div>

            <div class="checkout-layout-new">
                <div class="checkout-form-main">
                    <h2>Adresse de Livraison</h2>
                    <form id="shipping-form" action="paiement.html" method="GET">
                        <div class="form-row-new">
                            <div class="form-group-new">
                                <label for="prenom">Prénom *</label>
                                <input type="text" id="prenom" name="prenom" required autocomplete="given-name">
                            </div>
                            <div class="form-group-new">
                                <label for="nom">Nom *</label>
                                <input type="text" id="nom" name="nom" required autocomplete="family-name">
                            </div>
                        </div>
                        <div class="form-group-new full-width">
                            <label for="email">Adresse e-mail *</label>
                            <input type="email" id="email" name="email" required autocomplete="email">
                        </div>
                        <div class="form-group-new full-width">
                            <label for="telephone">Numéro de téléphone</label>
                            <input type="tel" id="telephone" name="telephone" placeholder="Optionnel" autocomplete="tel">
                        </div>
                        <div class="form-group-new full-width">
                            <label for="adresse1">Adresse (Ligne 1) *</label>
                            <input type="text" id="adresse1" name="adresse1" required autocomplete="address-line1">
                        </div>
                        <div class="form-group-new full-width">
                            <label for="adresse2">Complément d'adresse (Appartement, bâtiment, etc.)</label>
                            <input type="text" id="adresse2" name="adresse2" autocomplete="address-line2">
                        </div>
                        <div class="form-row-new">
                            <div class="form-group-new">
                                <label for="code_postal">Code Postal *</label>
                                <input type="text" id="code_postal" name="code_postal" required autocomplete="postal-code">
                            </div>
                            <div class="form-group-new">
                                <label for="ville">Ville *</label>
                                <input type="text" id="ville" name="ville" required autocomplete="address-level2">
                            </div>
                        </div>
                        <div class="form-group-new full-width">
                            <label for="pays">Pays *</label>
                            <select id="pays" name="pays" required autocomplete="country-name">
                                <option value="FR" selected>France</option>
                                <option value="BE">Belgique</option>
                            </select>
                        </div>
                        <div class="form-actions-new">
                            <button type="submit" class="btn btn-primary btn-checkout">Continuer vers le paiement</button>
                        </div>
                    </form>
                </div>

                <aside class="order-summary-sidebar">
                    <h2>Votre Commande</h2>
                    <div class="summary-item-new">
                        <div class="summary-image-new">
                            <img src="img/710E7veA9BL._SL1500_.jpg" alt="CryoGlow LED Face Mask">
                        </div>
                        <div class="summary-details-new">
                            <p class="summary-item-name-new">CryoGlow LED Face Mask</p>
                            <p class="summary-item-qty-new">Quantité: 1</p>
                        </div>
                        <p class="summary-item-price-new">149€</p>
                    </div>
                    <div class="summary-totals-new">
                        <p><span class="total-label">Sous-total :</span> <span class="total-value">149€</span></p>
                        <p><span class="total-label">Livraison :</span> <span class="total-value">Offerte</span></p>
                        <hr>
                        <p class="grand-total"><span class="total-label">Total :</span> <span class="total-value">149€</span></p>
                    </div>
                </aside>
            </div>
        </div>
    </main>
    <footer class="site-footer">
        <div class="container footer-container">
            <div class="footer-links">
                <a href="politique-de-confidentialite.html">Politique de Confidentialité</a> |
                <a href="conditions-utilisation.html">Conditions d'Utilisation</a> |
                <a href="contact.html">Contactez-nous</a>
            </div>
            <div class="social-media-footer">
                <a href="https://instagram.com/eclaria_officiel" target="_blank" aria-label="Instagram Éclaria"><svg viewBox="0 0 24 24"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8c1.99 0 3.6-1.61 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10m0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg></a>
            </div>
            <p class="copyright">&copy; <script>document.write(new Date().getFullYear());</script> Éclaria SAS. Tous droits réservés.</p>
        </div>
    </footer>
    <script>
        // Script principal de la page (validation, localStorage)
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page Livraison Éclaria (FR) chargée avec succès !');
            const shippingForm = document.getElementById('shipping-form');
            const cartButton = document.querySelector('.cart-icon-new'); // Ajout pour le bouton panier
            
            if (cartButton) { 
                cartButton.addEventListener('click', function() {
                    alert('Panier cliqué ! Fonctionnalité à venir.\n(Cart clicked! Feature coming soon.)');
                });
            }

            if (shippingForm) {
                shippingForm.addEventListener('submit', function(event) {
                    let isValid = true;
                    const requiredInputs = shippingForm.querySelectorAll('input[required], select[required]');
                    requiredInputs.forEach(input => {
                        if (!input.value.trim()) {
                            isValid = false;
                            input.style.borderColor = 'red'; 
                        } else {
                            input.style.borderColor = 'var(--silver-medium)';
                        }
                    });

                    if (!isValid) {
                        event.preventDefault(); 
                        alert('Veuillez remplir tous les champs obligatoires (*).');
                        return;
                    }
                    localStorage.setItem('eclaria_shipping_prenom', document.getElementById('prenom').value);
                    localStorage.setItem('eclaria_shipping_nom', document.getElementById('nom').value);
                    localStorage.setItem('eclaria_shipping_email', document.getElementById('email').value);
                    localStorage.setItem('eclaria_shipping_telephone', document.getElementById('telephone').value);
                    localStorage.setItem('eclaria_shipping_adresse1', document.getElementById('adresse1').value);
                    localStorage.setItem('eclaria_shipping_adresse2', document.getElementById('adresse2').value);
                    localStorage.setItem('eclaria_shipping_ville', document.getElementById('ville').value);
                    localStorage.setItem('eclaria_shipping_code_postal', document.getElementById('code_postal').value);
                    localStorage.setItem('eclaria_shipping_pays', document.getElementById('pays').value);
                });
            }
        });

        // Script pour le menu Offcanvas et la gestion du header (identique aux autres pages)
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.querySelector('.menu-toggle');
            const closeMenuBtn = document.querySelector('.close-menu-btn');
            const offcanvasMenu = document.getElementById('offcanvasMenu');
            const overlayScreen = document.getElementById('overlayScreen');
            const desktopNav = document.getElementById('desktop-nav');
            const desktopLangSwitcher = document.getElementById('desktop-lang-switcher');

            function openMenu() {
                if(offcanvasMenu) offcanvasMenu.classList.add('open');
                if(overlayScreen) overlayScreen.classList.add('active');
                if(menuToggle) menuToggle.setAttribute('aria-expanded', 'true');
            }

            function closeMenu() {
                if(offcanvasMenu) offcanvasMenu.classList.remove('open');
                if(overlayScreen) overlayScreen.classList.remove('active');
                if(menuToggle) menuToggle.setAttribute('aria-expanded', 'false');
            }

            if (menuToggle) menuToggle.addEventListener('click', openMenu);
            if (closeMenuBtn) closeMenuBtn.addEventListener('click', closeMenu);
            if (overlayScreen) overlayScreen.addEventListener('click', closeMenu);

            function handleResize() {
                const isDesktop = window.innerWidth > 768;
                if(desktopNav) desktopNav.style.display = isDesktop ? 'flex' : 'none';
                if(desktopLangSwitcher) desktopLangSwitcher.style.display = isDesktop ? 'flex' : 'none';
                if(menuToggle) menuToggle.style.display = isDesktop ? 'none' : 'flex';
                if (isDesktop) {
                    closeMenu();
                }
            }

            window.addEventListener('resize', handleResize);
            handleResize();

            const currentPath = window.location.pathname.split("/").pop();
            const navLinks = document.querySelectorAll('#desktop-nav ul li a, .offcanvas-menu nav ul li a');
            navLinks.forEach(link => {
                const linkPath = link.getAttribute('href').split("/").pop();
                if (linkPath === currentPath || (currentPath === '' && linkPath === 'index.html')) {
                    link.classList.add('active-lang');
                } else {
                    link.classList.remove('active-lang');
                }
            });
        });
    </script>
</body>
</html>
